---
sidebar_position: 2
---

# ESLint and Prettier - Next.js

ESLint and Prettier to enforce code quality and formatting. Next.js includes a built-in ESLint plugin (`eslint-plugin-next`) and default rules, but we‚Äôll customize it using ESLint‚Äôs new flat config (`eslint.config.mjs`) and integrate Prettier. This tutorial walks through installing the needed packages, creating the config files, and setting up npm scripts, using only standard configurations (no custom rules).

## Install dependencies

The necessary dependencies to configure ESLint and Prettier in a Next.js + TypeScript project using the modern flat config (`eslint.config.mjs`):

```bash
npm install --save-dev \
  eslint \
  eslint-config-next \
  @eslint/eslintrc \
  prettier \
  eslint-config-prettier \
  eslint-plugin-prettier \
```

| Package                              | Purpose                                                                     |
| ------------------------------------ | --------------------------------------------------------------------------- |
| **eslint**                           | The core ESLint engine.                                                     |
| **eslint-config-next**               | Official Next.js ESLint config (includes React & Next.js best practices).   |
| **@eslint/eslintrc**                 | The legacy ESLint configuration file format for ESLint.                     |
| **prettier**                         | Code formatter.                                                             |
| **eslint-config-prettier**           | Disables ESLint rules that conflict with Prettier.                          |
| **eslint-plugin-prettier**           | Runs Prettier as an ESLint rule so formatting issues show in ESLint output. |

## Configure `eslint.config.mjs`

```js
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
    baseDirectory: __dirname,
});

const eslintConfig = [
    ...compat.extends(
        "next/core-web-vitals", // Next.js built-in rules for performance and best practices
        "next/typescript", // Next.js TypeScript-specific lint rules
        "plugin:prettier/recommended" // Enables `eslint-config-prettier` + `eslint-plugin-prettier`
    ),
    ...compat.config({
        extends: ["next", "prettier"],
        rules: {
            "no-console": "warn", // Warning for console.log
            quotes: ["error", "double"], // Enforce double quotes
            "prettier/prettier": "error", // Prettier errors show up in ESLint output
        },
    }),
    {
        ignores: [
            "node_modules/**",
            ".next/**",
            "out/**",
            "build/**",
            "next-env.d.ts",
        ],
    },
];

export default eslintConfig;
```

### üîç ESLint Rules

ESLint rules define what ESLint checks for in your code. Each rule can be configured to:

- `"off"` or `0`: turn the rule off

- `"warn"` or `1`: produce a warning

- `"error"` or `2`: produce an error (will fail CI if configured that way)

## Configure Prettier

Create a `.prettierrc` file (JSON or JS) in your project root with your preferred formatting options. For example:

```
{
    "tabWidth": 4,
    "useTabs": false,
    "semi": true,
    "singleQuote": false,
    "trailingComma": "all",
    "bracketSpacing": true,
    "printWidth": 128,
    "endOfLine": "auto"
}
```

| Option               | Value    | What it does                                                                                                                                     |
| -------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`tabWidth`**       | `4`      | Indents code using **4 spaces** per level. Example:<br/>`function test() {}`                                                                  |
| **`useTabs`**        | `false`  | Uses **spaces** instead of tabs for indentation.                                                                                                 |
| **`semi`**           | `true`   | Always adds **semicolons** at the end of statements.<br/>‚úÖ `const x = 1;`                                                                         |
| **`singleQuote`**    | `false`  | Uses **double quotes** for strings. Example:<br/>‚úÖ `"Hello"` instead of `'Hello'`                                                                 |
| **`trailingComma`**  | `"all"`  | Adds **trailing commas everywhere possible**, including:<br/>arrays, objects, function parameters.<br/>‚úÖ Useful for cleaner diffs.                 |
| **`bracketSpacing`** | `true`   | Adds spaces between brackets in object literals.<br/>‚úÖ `{ name: "Parham" }` vs ‚ùå `{name:"Parham"}`                                                |
| **`printWidth`**     | `128`    | Lines longer than 128 characters will **wrap** (if possible). This is more lenient than the default `80`.                                        |
| **`endOfLine`**      | `"auto"` | Keeps line endings consistent with the system you're on:<br/>‚Ä¢ `\n` on macOS/Linux<br/>‚Ä¢ `\r\n` on Windows<br/>‚úÖ Prevents git line-ending conflicts |

Create a `.prettierignore` file in your project root

```
node_modules
package.json
package-lock.json
.next/**
out/**
build/**
next-env.d.ts
```

## Add Scripts to `package.json`

```json
"scripts": {
    "format": "prettier --write \"**/*.{js,jsx,ts,tsx,css}\"",
    "format:check": "prettier --check \"**/*.{js,jsx,ts,tsx,css}\""
}
```

## Add Format on Save

Install the [ESLint](https://marketplace.visualstudio.com/items?spm=a2ty_o01.29997173.0.0.661fc921kupKXQ&itemName=dbaeumer.vscode-eslint) and [Prettier](https://marketplace.visualstudio.com/items?spm=a2ty_o01.29997173.0.0.661fc921kupKXQ&itemName=esbenp.prettier-vscode) extensions.

`.vscode/extensions.json` file:

```json
{
    "recommendations": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
    ]
}
```

`.vscode/settings.json` file:

```json
{
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "prettier.configPath": ".prettierrc",
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[javascriptreact]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[typescript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[typescriptreact]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[css]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[json]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    }
}
```

For Other Editors, refer to your editor's documentation to enable format on save and set Prettier as the default formatter.


## References

- https://nextjs.org/docs/app/api-reference/config/eslint